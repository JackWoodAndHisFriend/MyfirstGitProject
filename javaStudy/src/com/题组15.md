### 1.数据库的三范式是什么？
第一范式：强调的是列的原子性，即数据库表的每一列都是不可分割的原子数据项。<br>
第二范式：一张表一定要有一个主键，要求非主键类完全依赖于主键，而不能只部分依赖于主键。<br>
第三范式：每列都和主键直接相关而不是间接相关，及限制列的冗余性<br>
### 2.一张自增表里面总共有 7 条数据，删除了最后 2 条数据，重启 mysql 数据库，又插入了一条数据，此时 id 是几？
表类型如果是myisam，那id就是8<br>
表类型如果是innoDB，那id就是6<br>
因为innoDB会吧自增主键的最大id记录在内存中，所以重启后会导致最大id丢失。
### 3.如何获取数据库版本？
select version
### 4.acid是什么？
Atomicity:原子性：一个事务中的所有操作，或者全部完成，或者全部不完成，不会结束在中间某个环节。<br>
Consistency:一致性：在事务开始前和事务结束后，数据库的完整性没有被破坏。<br>
Isolation：隔离性:数据库运行多个并发事务同时对其数据进行读写和修改的能力。<br>
Durability:持久性：事务结束后，对数据库的修改是永久的。<br>
### 5.char和varchar的区别是什么？
char：固定长度，比如char(10),输入abc后，它占得空间还是10个字节，后面七个是空字节。<br>
优点：效率高，缺点：占用空间<br>
适用场景：存储密码的md5值，固定长度的。<br>
varchar：可变长度，存储的是每个值占用的字节加上一个用来记录长度的字节。<br>
### 6.float和double的区别是什么？
float最多存储8位十进制数，在内存中占4字节<br>
double最多存储16位十进制数，在内存中占8字节<br>
### 7.mysql的内连接，左连接和右连接有什么区别？
关键字不同：inner join，left join,right join<br>
内连接是吧匹配的管理数据显示出来，左连接是左边表的全部显示，右边表的显示出符合条件的数据。
### 8.mysql索引是怎么实现的？
目前主流引擎的索引都是B+树实现的，<br>
B+树的搜索效率，可以达到二分的性能。
### 9.怎么验证mysql的索引是否满足要求?
使用explain 查看SQL是如何执行查询语句的。<br>
explain语法：explain select * from table where type = 1
### 10.说一下数据库的事务隔离
mysql的事务隔离是在mysql.ini配置文件里添加的，在文件的最后加：
```
transaction-isolation = REPEATABLE-READ
```
### 11.mysql常用的引擎。
**innoDB**:提供了对数据库acid事务的支持，并且还提供了行级锁和外键的约束，它的设计目标就是处理大数据容量的数据库系统。<br>
mysql运行时，innoDB会在内存中建立缓冲池，用于缓冲数据和索引。<br>
但是改引擎不支持全文搜索，同时启动也比较慢，不会保存表的行数，比如进行select count(*) from table 时，需要扫描全表。<br>
由于锁的粒度小，写操作是不会锁定全表的，所以在并发度较高的场景下使用会提升效率。<br>
**myisam**：默认引擎，不提供事务支持，也不支持行级锁和外键。因此当执行写操作时，需要锁定这个表，所以会导致效率降低。<br>
不过myisam引擎会保存表的行数，所以，如果表的读操作远多于写操作，并且不需要事务支持时，可以将myiasm作为数据库引擎的首选。
### 12.mysql的行锁和表锁？
myisam只支持表锁，innoDB支持表锁和行锁，默认是行锁。<br>
表锁：开销小，加锁快，不会出现死锁。锁定粒度大，发送锁冲突的概率高，并发量最低。<br>
行锁：开销大，加锁慢，会出现死锁。锁粒度小，发送锁冲突的概率小，并发度高。<br>
### 13.乐观锁和悲观锁？
乐观锁：每次去拿数据都认为别人不会修改，所以不会上锁，但是在提交更新的时候会判断在此期间别有没有去更新数据。<br>
悲观锁：每次去拿数据的时候都认为别人会修改，所以每次在拿数据的时候都会上锁，这样别人想拿这个数据就会阻止，知道锁被释放。<br>
数据库的乐观锁需要自己实现，在表中加一个version字段，每次修改成功值加1，这样每次修改的时候先对比一下，自己的version和数据库现在的version是否一致，如果不一致就不修改。
### 14.mysql问题排查都有哪些手段？
```
show processlist//查看当前所有连接信息
explain//查询sql语句执行计划
开启慢查询日志
```
### 15.如何做msyql的性能优化？
为搜索字段创建索引<br>
避免使用select * ,列出需要查询的字段<br>
垂直分割分表<br>
选择正确的存储引擎<br>
### 16.hibernate工作原理？
1. 读取并解析配置文件
2. 读取并解析映射信息，创建SessionFactory
3. 打开Session
4. 创建事务Transaction
5. 持久化操作
6. 提交事务
7. 关闭Session
8. 关闭SessionFactory


